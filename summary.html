<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Summary</title>

    <link rel="stylesheet" href="semantic.css"/>
    <link rel="stylesheet" href="base.css"/>
    <style>
        .incomeContainer {
            width:80%;
            margin: 0 auto;
        }

        #incomePerAnnum {
            width: 100%;
        }

        .boxes {
            margin-top: 12px;
        }

        .boxes button {
            margin: 5px 20px;
            padding: 8px 16px;
            text-transform: uppercase;
        }
    </style>
</head>

<body>
<nav id="mainNav">
    <ul id="navContainer">
        <li>
            <a href="specify_income.html">Income</a>
        </li>
        <li>
            <a href="child_planning.html">Child Planning</a>
        </li>
        <li>
            <a href="home_loans.html">Home loans</a>
        </li>
        <li>
            <a href="summary.html">Summary</a>
        </li>
    </ul>
</nav>
<main>
    <div id="content" class="bg">
        <div class="center">
                <h2 style="color:white">Summary</h2>
                <table class="ui celled table" style="width:75%;">
                    <tr>
                        <td colspan="2"><strong>Your Information</strong></td>
                    </tr>
                    <tr>
                        <td>Monthly Income</td>
                        <td id="yourSalary">$36,000</td>
                    </tr>
                    <tr>
                        <td colspan="2"><strong>Spouse Information</strong></td>
                    </tr>
                    <tr>
                        <td>Monthly Income</td>
                        <td id="spouseSalary">$42,000</td>
                    </tr>
                </table>
                <table class="ui celled table" style="width:75%;">
                    <tr>
                        <td colspan="2"><strong>Home Loan Information</strong></td>
                    </tr>
                    <tr>
                        <td>% Both Salary</td>
                        <td id="loanSalaryPercentage">19% [$1234]</td>
                    </tr>
                    <tr>
                        <td>No. Years to Return</td>
                        <td id="NumYearsToReturn">21</td>
                    </tr>
                    <tr>
                        <td>Total</td>
                        <td id="totalLoan">$25,914</td>
                    </tr>
                </table>
                <table class="ui celled table" style="width:75%;">
                    <tr>
                        <td colspan="4">
                            <center><div id="piechart"></div></center>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="4"><strong>Child Planning Information</strong></td>
                    </tr>
                    <tr >
                        <td>General</td>
                        <td id="childGeneralExpenses">$18392</td>
                        <td>x <span id="NumChildren1">2</span> children</td>
                        <td id="totalChildGeneralExpenses">$26484</td>
                    </tr>
                    <tr>
                        <td>Insurance</td>
                        <td id="childInsurance">$2892</td>
                        <td>x <span id="NumChildren2">2</span> children</td>
                        <td id="totalChildInsurance">$3784</td>
                    </tr>
                    <tr>
                        <td>Investment</td>
                        <td id="investmentReturns">$500</td>
                        <td></td>
                        <td id="totalInvestmentReturns">-$500</td>
                    </tr>
                    <tr>
                        <td>Total</td>
                        <td></td>
                        <td></td>
                        <td id="totalChildExpenses">$6392</td>
                    </tr>
                </table>
                <div class="boxes">
                    <button id="signup" class = "income_btn">Sign Up with DBS</button>
                    <button id="seeloan" class = "income_btn">See Loan Recommendations</button>
                </div>
        </div>
    </div>
</main>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">
    // Load google charts
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    // Draw the chart and set the chart values
    function drawChart() {
        var data = google.visualization.arrayToDataTable([
        ['Home Planner', 'Monthly'],
        ['House Loan', 8],
        ['Child Education', 2],
        ['Child Food', 4],
        ['Child Insurance', 4],
        ['Spendings', 2],
        ['Saving', 8]
        ]);

        // Optional; add a title and set the width and height of the chart
        var options = {'title':'Home Planner', 'width':900, 'height':400};

        // Display the chart inside the <div> element with id="piechart"
        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        chart.draw(data, options);
    }
    document.getElementById('signup').addEventListener('click', () => {
        window.location = "https://internet-banking.dbs.com.sg/ibAPL/Welcome";
    });
    document.getElementById('seeloan').addEventListener('click', () => {
        window.location = "https://internet-banking.dbs.com.sg/DBSObWeb/processpweb.htm?pid=sg-dbs-pweb-promopersonal-loans-ntuc-vouchers-btnapplyonlinenow";
    });

    document.getElementById('yourSalary').innerText = "$" + localStorage.getItem("youIncome");
    document.getElementById('spouseSalary').innerText = "$" + localStorage.getItem("spouseIncome");
</script>
</body>

</html>